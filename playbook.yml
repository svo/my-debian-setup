---
- name: Setup Debian development environment
  hosts: all

  pre_tasks:

    - name: Create Installs directory
      ansible.builtin.file:
        path: ~/Installs
        state: directory
        mode: '0755'

    - name: Create Installs symlink to /tmp
      ansible.builtin.file:
        src: ~/Installs
        dest: /tmp/Installs
        state: link

    - name: Install required system packages
      ansible.builtin.apt:
        name:
          - apt-transport-https
          - ca-certificates
          - curl
          - unzip
      become: true

  roles:
    - ssh
    - git
    - vim
    - python
    - golang
    - clojure
    - nodejs
    - ruby
    - iac
    - nginx
    - claude
    - docker
    - system
    - terminal
    - security
    - monitoring
    - networking
    - development
    - storage
    - todo
    - media
    - desktop
    - internet
    - office

  post_tasks:

    - name: Configure docker group for user
      ansible.builtin.user:
        name: "{{ ansible_user_id }}"
        groups: docker
        append: true
      become: true
