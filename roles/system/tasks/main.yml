- name: Install firewall
  ansible.builtin.apt:
    pkg: ufw
  become: true

- name: Install apt file
  ansible.builtin.apt:
    pkg: apt-file
  become: true

- name: Install bluetooth support
  ansible.builtin.apt:
    pkg: bluez,blueman
  become: true

- name: Install lshw for listing hardware details
  ansible.builtin.apt:
    name: lshw
  become: true

- name: Install Midnight Commander file manager
  ansible.builtin.apt:
    name: mc
  become: true

- name: Install NCurses disk Usage utility
  ansible.builtin.apt:
    name: ncdu
  become: true

- name: Install wondershaper for limiting adapter bandwidth
  ansible.builtin.apt:
    name: wondershaper
  become: true

- name: Install locate
  ansible.builtin.apt:
    name: plocate
  become: true

- name: Install fdupes for finding duplicate files on filesystem
  ansible.builtin.apt:
    name: fdupes
  become: true

- name: Download topgrade installation resource
  ansible.builtin.get_url:
    url: https://github.com/r-darwish/topgrade/releases/download/v8.2.0/topgrade-v8.2.0-x86_64-unknown-linux-gnu.tar.gz
    dest: ~/Installs/topgrade-v8.2.0-x86_64-unknown-linux-gnu.tar.gz
    checksum: sha256:5d2588260673d93355744a974f85cff8cb9eceb60fff45e26f625130f051151c
    mode: '0644'

- name: Unarchive topgrade
  ansible.builtin.unarchive:
    src: ~/Installs/topgrade-v8.2.0-x86_64-unknown-linux-gnu.tar.gz
    remote_src: true
    dest: /tmp

- name: Install topgrade
  ansible.builtin.copy:
    src: /tmp/topgrade
    dest: /usr/local/bin
    remote_src: true
    mode: '0755'
  become: true
