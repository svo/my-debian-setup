- name: Install terminator terminal emulator
  ansible.builtin.apt:
    name: terminator
  become: true

- name: Create terminator config directory
  ansible.builtin.file:
    path: ~/.config/terminator
    state: directory
    mode: '0755'

- name: Configure terminator settings
  ansible.builtin.copy:
    src: terminator.config
    dest: ~/.config/terminator/config
    mode: '0644'

- name: Install tmux terminal multiplexer
  ansible.builtin.apt:
    name: tmux
  become: true

- name: Configure tmux default settings
  ansible.builtin.blockinfile:
    create: true
    path: ~/.tmux.conf
    mode: "0644"
    block: |
      bind c new-window -c "#{pane_current_path}"
      bind '"' split-window -c "#{pane_current_path}"
      bind % split-window -h -c "#{pane_current_path}"
      setw -g mode-keys vi

- name: Configure tmux auto-start in bash
  ansible.builtin.blockinfile:
    path: ~/.bashrc
    marker: "# {mark} ANSIBLE MANAGED BLOCK (tmux start)"
    block: |
      TERM=xterm &&
      if [ "$TMUX" = "" ] && [ -z "$TERMINATOR_UUID" ]; then tmux; fi

- name: Install xclip clipboard utility
  ansible.builtin.apt:
    name: xclip
  become: true
